{{#if (eq this.mode 'direct-select')}}
  {{#if (gt this.selectionCount 0)}}
    <div class="map-utility-box">
      <div class="map-utility-box-head"> 
        Your Selection
      </div>
      <div class="map-utility-box-body">
        {{log 'this.selectionCount in map utility box' this.selectionCount }}
        {{#if (gt this.selectionCount 1000 )}}
          You have selected
          <strong>{{this.selectionCount}}</strong>
          {{this.selection.summaryLevel}}, the maximum allowed selection size is 1,000 {{this.selection.summaryLevel}}.
        {{else if (eq this.selection.summaryLevel 'cities')}}
          New York City
        {{else}}
          <strong>{{this.selectionCount}}</strong>
          {{if (eq this.selection.summaryLevel 'tracts') 'Tract'~}}
          {{if (eq this.selection.summaryLevel 'blocks') 'Block'~}}
          {{if (eq this.selection.summaryLevel 'cdtas') 'CDTA'~}}
          {{if (eq this.selection.summaryLevel 'districts') 'CD'~}}
          {{if (eq this.selection.summaryLevel 'ntas') 'NTA'~}}
          {{if (eq this.selection.summaryLevel 'boroughs') 'Borough'~}}
          {{unless (eq this.selectionCount 1) 's'}}
        {{/if}}
        {{#if (lt this.selectionCount 1000 )}}
          selected
        {{/if}}
      </div>
      <div class="map-utility-box-data">
        <div>
          <span>
            {{fa-icon icon='user-friends'}}
          </span>
          <div class="map-utility-box-data-text">
            <strong>{{format-number this.selectionSummaryData.pop1 precision=0}}</strong><br />
            Population<br />
            <span>(2020 Census)</span>
          </div>    
        </div>
          <div>
          <span>
            {{fa-icon icon='building' class='fa-w-20'}}
          </span>
          <div class="map-utility-box-data-text">
            <strong>{{format-number this.selectionSummaryData.hunits precision=0}}</strong><br />
            Housing Units<br />
            <span>(2020 Census)</span>
          </div>    
        </div>
      </div>
      <div class="map-utility-box-buttons">
        <button id="clear-selection" class="button--clear-selection button" type="button" {{action this.clearSelection}}>
          <span class="a11y-orange">
            {{fa-icon icon='times'}}
          </span>
          Clear Selection
        </button>
        <button id="see-more-data" class="button orange" type="button" disabled={{if (gt this.selectionCount 1000 ) true false}} onClick={{action this.generateExplorerPage}}>
          View Data
          <span class="off-white" style="padding-left: 0.5em;">
            {{fa-icon icon='long-arrow-alt-right'}}
          </span>
        </button>
      </div>
    </div>
  {{else}}
    <div class="map-utility-box">
      <div class="map-utility-box-head"> 
        Your Selection
      </div>
      <div class="map-utility-box-body-null">
        <p><strong>How to Get Started</strong></p>
        <p>You can build your selection by clicking on the map. Use the toolbar above to change your selection method or the geographic boundaries on the map.</p>
      </div>
    </div>
  {{/if}}
{{else}}
  {{component this.mode}}
{{/if}}

{{yield}}
